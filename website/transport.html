<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Transport ‚Äî Tiriwe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,600;0,9..144,700;1,9..144,400&display=swap" rel="stylesheet">
    <style>
        :root{--blue:#1F4788;--blue-dark:#162f5c;--blue-light:#2a5ba8;--blue-pale:#e8effa;--green:#2E7D32;--green-light:#43A047;--green-pale:#E8F5E9;--orange:#F59E0B;--orange-pale:#FFF8E1;--red:#DC2626;--red-pale:#FEF2F2;--purple:#7B1FA2;--purple-pale:#F3E5F5;--white:#ffffff;--off-white:#d5dfe9;--grey-50:#f8fafc;--grey-100:#f1f5f9;--grey-200:#e2e8f0;--grey-300:#cbd5e1;--grey-400:#94a3b8;--grey-500:#64748b;--grey-600:#475569;--grey-700:#334155;--grey-800:#1e293b;--text:#1e293b;--text-mid:#475569;--text-muted:#94a3b8;--border:#e2e8f0;--radius:14px;--radius-sm:8px;--shadow-sm:0 1px 3px rgba(0,0,0,0.06),0 1px 2px rgba(0,0,0,0.04);--shadow-md:0 4px 16px rgba(0,0,0,0.08);--shadow-lg:0 8px 30px rgba(0,0,0,0.12);}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'DM Sans',-apple-system,sans-serif;color:var(--text);background:var(--off-white);line-height:1.6;min-height:100vh;}

        .top-bar{background:#e8edf3;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;box-shadow:var(--shadow-sm);}
        .top-bar-upper{display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:56px;}
        .nav-brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--blue);font-family:'Fraunces',serif;font-weight:700;font-size:22px;letter-spacing:-0.5px;}
        .nav-brand svg{width:30px;height:30px;}
        .nav-right{display:flex;align-items:center;gap:12px;}
        .nav-user{display:flex;align-items:center;gap:8px;}
        .nav-avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--blue-light));display:flex;align-items:center;justify-content:center;font-size:15px;color:white;}
        .nav-display-name{font-weight:600;font-size:13px;color:var(--text);}
        .nav-btn{width:36px;height:36px;border-radius:50%;border:1px solid var(--border);background:var(--white);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s;color:var(--grey-500);font-size:16px;position:relative;text-decoration:none;}
        .nav-btn:hover{background:var(--grey-100);color:var(--blue);}
        .notif-badge{position:absolute;top:-2px;right:-2px;width:16px;height:16px;background:var(--red);color:white;font-size:9px;font-weight:700;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid white;}
        .tab-nav{display:flex;align-items:center;padding:0 24px;overflow-x:auto;scrollbar-width:none;}
        .tab-nav::-webkit-scrollbar{display:none;}
        .tab-item{display:flex;align-items:center;gap:6px;padding:12px 18px;font-size:13px;font-weight:600;color:var(--grey-600);text-decoration:none;border-bottom:3px solid transparent;white-space:nowrap;transition:all 0.2s;}
        .tab-item:hover{color:var(--blue);background:var(--blue-pale);}
        .tab-item.active{color:var(--blue);border-bottom-color:var(--blue);}
        .tab-icon{font-size:16px;}.tab-badge{background:var(--red);color:white;font-size:10px;font-weight:700;padding:1px 6px;border-radius:10px;}

        .page-header{background:linear-gradient(135deg,var(--blue-dark) 0%,var(--blue) 50%,var(--blue-light) 100%);padding:24px 24px 20px;color:white;position:relative;overflow:hidden;}
        .page-header::before{content:'';position:absolute;top:-50%;right:-20%;width:500px;height:500px;background:radial-gradient(circle,rgba(255,255,255,0.06) 0%,transparent 70%);border-radius:50%;}
        .page-header-content{max-width:800px;margin:0 auto;position:relative;z-index:1;}
        .page-header h1{font-size:22px;font-weight:700;}
        .page-header p{font-size:13px;opacity:0.8;margin-top:2px;}

        .breadcrumb{max-width:800px;margin:16px auto 0;padding:0 24px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;}
        .breadcrumb a{font-size:13px;color:var(--blue);text-decoration:none;font-weight:600;display:flex;align-items:center;gap:4px;padding:6px 14px;background:var(--white);border:1px solid var(--border);border-radius:20px;transition:all 0.2s;}
        .breadcrumb a:hover{background:var(--blue);color:white;}

        .main{max-width:800px;margin:16px auto 0;padding:0 24px 40px;animation:fadeUp 0.5s ease-out;}
        @keyframes fadeUp{from{opacity:0;transform:translateY(14px);}to{opacity:1;transform:translateY(0);}}

        .section{background:var(--white);border-radius:var(--radius);box-shadow:var(--shadow-sm);border:1px solid var(--border);margin-bottom:18px;overflow:hidden;}
        .section-hd{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;border-bottom:1px solid var(--grey-100);flex-wrap:wrap;gap:10px;}
        .section-title{font-size:15px;font-weight:700;display:flex;align-items:center;gap:8px;}
        .section-body{padding:20px;}
        .info-box{padding:14px 18px;background:var(--blue-pale);border:1px solid #c5d4ea;border-radius:var(--radius-sm);font-size:13px;color:var(--blue-dark);}

        /* VEHICLE CARDS */
        .vehicle-card{border:1px solid var(--border);border-radius:var(--radius);margin-bottom:14px;overflow:hidden;transition:all 0.2s;}
        .vehicle-card:hover{box-shadow:var(--shadow-md);}
        .vehicle-card.primary-v{border-left:4px solid var(--green);}
        .vehicle-summary{display:flex;align-items:center;gap:14px;padding:16px 20px;cursor:pointer;transition:background 0.15s;}
        .vehicle-summary:hover{background:var(--grey-50);}
        .vehicle-photo{width:80px;height:56px;border-radius:var(--radius-sm);background:var(--grey-100);display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;overflow:hidden;border:1px solid var(--border);}
        .vehicle-main{flex:1;min-width:0;}
        .vehicle-name{font-weight:700;font-size:15px;display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
        .vehicle-nickname{font-weight:400;color:var(--text-mid);font-size:13px;font-style:italic;}
        .vehicle-meta{font-size:12px;color:var(--text-muted);margin-top:2px;}
        .vehicle-badges{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;}
        .badge{display:inline-flex;align-items:center;gap:3px;padding:2px 8px;border-radius:10px;font-size:10px;font-weight:600;}
        .badge-primary{background:var(--green-pale);color:var(--green);}
        .badge-active{background:var(--blue-pale);color:var(--blue);}
        .badge-inactive{background:var(--grey-100);color:var(--grey-500);}
        .badge-cat{background:var(--orange-pale);color:#92400e;}
        .vehicle-expand{color:var(--grey-300);font-size:18px;transition:transform 0.3s;padding:0 4px;}
        .vehicle-card.open .vehicle-expand{transform:rotate(180deg);}

        .vehicle-detail{display:none;padding:0 20px 20px;border-top:1px solid var(--grey-100);background:var(--grey-50);}
        .vehicle-card.open .vehicle-detail{display:block;animation:slideDown 0.3s ease-out;}
        @keyframes slideDown{from{opacity:0;}to{opacity:1;}}

        .detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px;}
        .detail-item{padding:10px 14px;background:var(--white);border-radius:var(--radius-sm);border:1px solid var(--border);}
        .detail-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);}
        .detail-value{font-size:14px;font-weight:600;margin-top:2px;}
        .detail-full{grid-column:1/-1;}

        .toggle-row{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:var(--white);border-radius:var(--radius-sm);border:1px solid var(--border);}
        .toggle-left{flex:1;}
        .toggle-label{font-size:13px;font-weight:600;}
        .toggle-hint{font-size:11px;color:var(--text-muted);}
        .toggle{position:relative;width:44px;height:24px;cursor:pointer;flex-shrink:0;}
        .toggle input{opacity:0;width:0;height:0;}
        .toggle-track{position:absolute;inset:0;background:var(--grey-300);border-radius:24px;transition:0.3s;}
        .toggle-track::before{content:'';position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:white;border-radius:50%;transition:0.3s;}
        .toggle input:checked+.toggle-track{background:var(--green);}
        .toggle input:checked+.toggle-track::before{transform:translateX(20px);}

        /* CAPABILITIES */
        .sub-section{margin-top:16px;}
        .sub-section-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);margin-bottom:8px;display:flex;align-items:center;gap:6px;}
        .cap-grid{display:flex;flex-wrap:wrap;gap:6px;}
        .cap-tag{padding:5px 14px;border-radius:20px;font-size:12px;font-weight:600;border:1px solid var(--border);background:var(--white);color:var(--text-mid);cursor:pointer;transition:all 0.15s;user-select:none;}
        .cap-tag:hover{border-color:var(--blue);}
        .cap-tag.active{background:var(--green-pale);color:var(--green);border-color:var(--green);}

        /* SPARE PARTS */
        .parts-list{display:flex;flex-direction:column;gap:6px;}
        .part-item{display:flex;align-items:center;justify-content:space-between;padding:8px 14px;background:var(--white);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;}
        .part-name{font-weight:600;display:flex;align-items:center;gap:6px;}
        .part-remove{color:var(--red);cursor:pointer;font-size:14px;background:none;border:none;padding:4px 8px;border-radius:4px;transition:background 0.15s;font-family:inherit;}
        .part-remove:hover{background:var(--red-pale);}
        .add-part-row{display:flex;gap:8px;margin-top:8px;}
        .add-part-input{flex:1;padding:8px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;}
        .add-part-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}

        /* PHOTO */
        .photo-dropzone{margin-top:12px;padding:20px;border:2px dashed var(--border);border-radius:var(--radius-sm);text-align:center;cursor:pointer;transition:all 0.2s;background:var(--white);}
        .photo-dropzone:hover{border-color:var(--blue);background:var(--blue-pale);}
        .photo-dropzone .drop-icon{font-size:28px;margin-bottom:4px;}
        .photo-dropzone p{font-size:12px;color:var(--text-muted);}
        .photo-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:10px;}
        .photo-slot{padding:16px 10px;border:2px dashed var(--border);border-radius:var(--radius-sm);text-align:center;cursor:pointer;transition:all 0.2s;background:var(--white);min-height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;}
        .photo-slot:hover{border-color:var(--blue);background:var(--blue-pale);}
        .photo-slot.has-photo{border-style:solid;border-color:var(--green);background:var(--green-pale);}
        .photo-slot .ps-icon{font-size:24px;}
        .photo-slot .ps-label{font-size:11px;font-weight:600;color:var(--text-mid);}
        .photo-slot .ps-hint{font-size:10px;color:var(--text-muted);}
        .photo-slot .ps-status{font-size:10px;font-weight:600;color:var(--green);}

        /* ODOMETER */
        .odo-bar{display:flex;align-items:center;gap:14px;padding:14px 16px;background:var(--white);border:1px solid var(--border);border-radius:var(--radius-sm);margin-top:14px;}
        .odo-icon{font-size:24px;}
        .odo-info{flex:1;}
        .odo-reading{font-size:20px;font-weight:700;color:var(--blue);}
        .odo-label{font-size:11px;color:var(--text-muted);}
        .odo-update{display:flex;align-items:center;gap:6px;}
        .odo-input{width:100px;padding:6px 10px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;text-align:right;}
        .odo-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}

        /* SERVICE LOG */
        .service-table{width:100%;border-collapse:collapse;margin-top:10px;font-size:12px;}
        .service-table th{text-align:left;padding:8px 10px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);border-bottom:2px solid var(--border);background:var(--grey-50);}
        .service-table td{padding:8px 10px;border-bottom:1px solid var(--grey-100);vertical-align:top;}
        .service-table tr:last-child td{border-bottom:none;}
        .service-table tr:hover td{background:var(--grey-50);}
        .svc-type{font-weight:600;display:flex;align-items:center;gap:4px;}
        .svc-where{color:var(--blue);text-decoration:none;font-weight:500;font-size:11px;}
        .svc-where:hover{text-decoration:underline;}
        .svc-due{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:10px;font-size:10px;font-weight:600;}
        .svc-due.soon{background:var(--orange-pale);color:#92400e;}
        .svc-due.ok{background:var(--green-pale);color:var(--green);}
        .svc-due.overdue{background:var(--red-pale);color:var(--red);}
        .svc-cost{font-weight:600;color:var(--text-mid);}

        /* ADD SERVICE FORM */
        .add-service-form{display:none;margin-top:12px;padding:16px;background:var(--white);border:1px solid var(--border);border-radius:var(--radius-sm);}
        .add-service-form.open{display:block;animation:slideDown 0.3s ease-out;}
        .svc-form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
        .svc-form-group{display:flex;flex-direction:column;gap:3px;}
        .svc-form-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);}
        .svc-form-input,.svc-form-select{padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;width:100%;}
        .svc-form-input:focus,.svc-form-select:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}
        .svc-form-full{grid-column:1/-1;}
        .where-other{display:none;margin-top:6px;}
        .where-other.open{display:block;animation:slideDown 0.2s ease-out;}
        .where-other-input{width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;}
        .where-other-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}
        .logit-add{display:flex;align-items:center;gap:8px;margin-top:6px;padding:8px 12px;background:var(--green-pale);border:1px solid #a5d6a7;border-radius:var(--radius-sm);font-size:12px;color:var(--green);cursor:pointer;transition:background 0.15s;}
        .logit-add:hover{background:#c8e6c9;}
        .logit-add input[type="checkbox"]{accent-color:var(--green);}
        .where-search{display:none;margin-top:6px;}
        .where-search.open{display:block;animation:slideDown 0.2s ease-out;}
        .where-search-input{width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;margin-bottom:6px;}
        .where-search-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}
        .where-results{max-height:180px;overflow-y:auto;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--white);}
        .where-result{display:flex;align-items:center;gap:10px;padding:8px 12px;cursor:pointer;transition:background 0.15s;border-bottom:1px solid var(--grey-100);}
        .where-result:last-child{border-bottom:none;}
        .where-result:hover{background:var(--blue-pale);}
        .where-result.selected{background:var(--green-pale);border-left:3px solid var(--green);}
        .wr-icon{font-size:18px;flex-shrink:0;}
        .wr-info{flex:1;min-width:0;}
        .wr-name{font-size:12px;font-weight:600;}
        .wr-meta{font-size:10px;color:var(--text-muted);}
        .wr-rating{font-size:11px;font-weight:600;color:var(--orange);flex-shrink:0;}

        /* CURRENCY + COST COMBO */
        .cost-combo{display:flex;gap:0;}
        .cost-currency{padding:8px 10px;border:1px solid var(--border);border-right:none;border-radius:var(--radius-sm) 0 0 var(--radius-sm);font-size:12px;font-family:inherit;background:var(--grey-50);color:var(--text-mid);min-width:80px;cursor:pointer;}
        .cost-currency:focus{outline:none;border-color:var(--blue);z-index:1;}
        .cost-amount{flex:1;padding:8px 12px;border:1px solid var(--border);border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-size:13px;font-family:inherit;}
        .cost-amount:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}

        /* UNIT TOGGLE (km/mi) */
        .unit-toggle{display:inline-flex;border:1px solid var(--border);border-radius:var(--radius-sm);overflow:hidden;font-size:11px;margin-left:8px;}
        .unit-opt{padding:4px 12px;cursor:pointer;font-weight:600;transition:all 0.15s;background:var(--white);color:var(--text-muted);}
        .unit-opt:first-child{border-right:1px solid var(--border);}
        .unit-opt.active{background:var(--blue);color:white;}

        /* COMPLIANCE / REGISTRATION */
        .compliance-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px;}
        .compliance-card{padding:14px 16px;background:var(--white);border:1px solid var(--border);border-radius:var(--radius-sm);position:relative;}
        .compliance-card.valid{border-left:3px solid var(--green);}
        .compliance-card.expiring{border-left:3px solid var(--orange);}
        .compliance-card.expired{border-left:3px solid var(--red);}
        .compliance-card.na{border-left:3px solid var(--grey-300);opacity:0.6;}
        .cc-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;}
        .cc-type{font-size:13px;font-weight:700;}
        .cc-badge{padding:2px 8px;border-radius:10px;font-size:10px;font-weight:600;}
        .cc-badge.valid{background:var(--green-pale);color:var(--green);}
        .cc-badge.expiring{background:var(--orange-pale);color:#92400e;}
        .cc-badge.expired{background:var(--red-pale);color:var(--red);}
        .cc-badge.na{background:var(--grey-100);color:var(--grey-500);}
        .cc-expiry{font-size:14px;font-weight:600;margin-bottom:2px;}
        .cc-remind{font-size:11px;color:var(--text-muted);}
        .cc-edit{display:flex;align-items:center;gap:6px;margin-top:8px;}
        .cc-date-input{padding:6px 10px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:12px;font-family:inherit;flex:1;}
        .cc-date-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}

        .detail-actions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap;}

        /* BUTTONS */
        .btn{padding:10px 24px;border-radius:var(--radius-sm);font-size:13px;font-weight:600;font-family:inherit;cursor:pointer;transition:all 0.2s;border:none;}
        .btn-sm{padding:6px 14px;font-size:12px;}
        .btn-primary{background:var(--green);color:white;}.btn-primary:hover{background:var(--green-light);}
        .btn-secondary{background:var(--white);color:var(--blue);border:1px solid var(--border);}.btn-secondary:hover{background:var(--blue-pale);}
        .btn-danger{background:var(--red-pale);color:var(--red);}.btn-danger:hover{background:#fecaca;}
        .btn-create{display:flex;align-items:center;gap:6px;padding:10px 20px;background:var(--blue);color:white;border:none;border-radius:var(--radius-sm);font-size:13px;font-weight:600;cursor:pointer;font-family:inherit;transition:all 0.2s;}
        .btn-create:hover{background:var(--blue-light);}

        /* ADD FORM */
        .add-form{display:none;margin-top:16px;padding:20px;background:var(--grey-50);border:1px solid var(--border);border-radius:var(--radius);}
        .add-form.open{display:block;animation:slideDown 0.3s ease-out;}
        .add-form h3{font-size:15px;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px;}
        .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
        .form-full{grid-column:1/-1;}
        .form-group{display:flex;flex-direction:column;gap:4px;}
        .form-label{font-size:12px;font-weight:600;color:var(--text-mid);text-transform:uppercase;letter-spacing:0.5px;}
        .form-input,.form-select{padding:10px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:14px;font-family:inherit;background:var(--white);color:var(--text);transition:border-color 0.2s;width:100%;}
        .form-input:focus,.form-select:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(31,71,136,0.1);}
        .form-hint{font-size:11px;color:var(--text-muted);}
        .form-actions{display:flex;gap:10px;margin-top:16px;}

        /* TOAST */
        .toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);padding:12px 24px;border-radius:var(--radius);font-size:14px;font-weight:600;z-index:300;display:none;animation:slideUp 0.3s ease-out;}
        .toast.success{background:var(--green);color:white;}
        .toast.error{background:var(--red);color:white;}
        @keyframes slideUp{from{opacity:0;transform:translateX(-50%) translateY(20px);}to{opacity:1;transform:translateX(-50%) translateY(0);}}

        @media(max-width:768px){
            .detail-grid,.form-grid{grid-template-columns:1fr;}
            .nav-display-name{display:none;}
            .tab-item{padding:10px 12px;font-size:12px;}
            .vehicle-summary{flex-wrap:wrap;}
            .vehicle-photo{width:60px;height:42px;font-size:22px;}
        }

        /* SETTINGS PANEL */
        .settings-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.4);z-index:200;opacity:0;transition:opacity 0.3s;}
        .settings-overlay.open{display:block;opacity:1;}
        .settings-panel{position:fixed;top:0;right:-380px;width:360px;max-width:90vw;height:100vh;background:var(--white);box-shadow:var(--shadow-lg);z-index:201;transition:right 0.3s ease;overflow-y:auto;}
        .settings-panel.open{right:0;}
        .settings-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--white);z-index:1;}
        .settings-header h2{font-size:16px;font-weight:700;}
        .settings-close{width:32px;height:32px;border-radius:50%;border:none;background:var(--grey-100);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--grey-500);}
        .settings-section{padding:12px 20px;}
        .settings-section-title{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);margin-bottom:6px;}
        .settings-item{display:flex;align-items:center;gap:10px;padding:10px 0;cursor:pointer;border-bottom:1px solid var(--grey-100);text-decoration:none;color:var(--text);font-size:13px;font-weight:500;transition:color 0.15s;}
        .settings-item:last-child{border-bottom:none;}.settings-item:hover{color:var(--blue);}
        .si-icon{width:32px;height:32px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0;}
        .si-icon.green{background:var(--green-pale);}.si-icon.red{background:var(--red-pale);}
        .si-icon.blue{background:var(--blue-pale);}.si-icon.orange{background:var(--orange-pale);}
        .si-icon.purple{background:var(--purple-pale);}.si-icon.grey{background:var(--grey-100);}
        .si-arrow{margin-left:auto;color:var(--grey-300);}
        .si-badge{background:var(--orange);color:white;font-size:10px;font-weight:700;padding:1px 7px;border-radius:10px;margin-left:auto;}
        .settings-logout{display:flex;align-items:center;justify-content:center;gap:6px;width:calc(100% - 40px);margin:12px 20px 20px;padding:12px;background:var(--red-pale);color:var(--red);border:none;border-radius:var(--radius);font-size:14px;font-weight:600;font-family:inherit;cursor:pointer;}
        .settings-logout:hover{background:#fecaca;}
    </style>
</head>
<body>

<!-- TOP BAR -->
<header class="top-bar">
    <div class="top-bar-upper">
        <a href="dashboard.html" class="nav-brand">
            <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2.5"/><circle cx="11" cy="13" r="3" fill="currentColor"/><circle cx="21" cy="13" r="3" fill="currentColor"/><path d="M11 16 L16 22 L21 16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
            Tiriwe
        </a>
        <div class="nav-right">
            <div class="nav-user"><div class="nav-avatar">üèçÔ∏è</div><span class="nav-display-name">BraveRiver472</span></div>
            <a class="nav-btn" href="friends.html" title="My Friends">üë•<span class="notif-badge" style="background:var(--blue);">4</span></a>
            <a class="nav-btn" href="groups.html" title="My Groups">üë™</a>
            <button class="nav-btn" title="Notifications">üîî<span class="notif-badge">3</span></button>
            <button class="nav-btn" title="Settings" onclick="openSettings()">‚öôÔ∏è</button>
        </div>
    </div>
    <nav class="tab-nav">
        <a class="tab-item" href="dashboard.html"><span class="tab-icon">üè†</span><span class="tab-text">Dashboard</span></a>
        <a class="tab-item" href="messages.html"><span class="tab-icon">üí¨</span><span class="tab-text">Messages</span><span class="tab-badge">2</span></a>
        <a class="tab-item" href="diary.html"><span class="tab-icon">üìî</span><span class="tab-text">Diary</span></a>
        <a class="tab-item" href="findit.html"><span class="tab-icon">üîç</span><span class="tab-text">Find It</span></a>
        <a class="tab-item" href="logit.html"><span class="tab-icon">üìç</span><span class="tab-text">Log It</span></a>
        <a class="tab-item" href="help.html"><span class="tab-icon">üÜò</span><span class="tab-text">Help</span></a>
    </nav>
</header>

<section class="page-header">
    <div class="page-header-content">
        <h1>üöó My Transport</h1>
        <p>Register your vehicles, bikes, and boats for parts matching and roadside help</p>
    </div>
</section>

<div class="breadcrumb">
    <a href="dashboard.html">üè† Dashboard</a>
    <a href="#" onclick="openSettings(); return false;">‚öôÔ∏è Settings</a>
</div>

<main class="main">

    <!-- INFO -->
    <div class="section">
        <div class="section-body">
            <div class="info-box">
                üí° <strong>Why register transport?</strong> Other travelers with the same make and model can find you through Find It for parts, advice, and roadside help. Your capabilities and items carried show what you can offer when someone nearby needs assistance. Use the <strong>"Other"</strong> category to record non-transport items like phones, cameras, drones, or GPS units ‚Äî anything with a serial number worth protecting.
            </div>
        </div>
    </div>

    <!-- TRANSPORT LIST -->
    <div class="section">
        <div class="section-hd">
            <div class="section-title">üöó Registered Transport (4)</div>
            <button class="btn-create" onclick="toggleAddForm()">+ Add Transport</button>
        </div>
        <div class="section-body">

            <!-- VEHICLE 1: Primary motorcycle -->
            <div class="vehicle-card primary-v" id="v1">
                <div class="vehicle-summary" onclick="toggleVehicle('v1')">
                    <div class="vehicle-photo">üèçÔ∏è</div>
                    <div class="vehicle-main">
                        <div class="vehicle-name">
                            BMW R1250GS Adventure
                            <span class="vehicle-nickname">"Big Red"</span>
                        </div>
                        <div class="vehicle-meta">2020 ¬∑ Motorcycle ¬∑ Added Nov 2025</div>
                        <div class="vehicle-badges">
                            <span class="badge badge-primary">‚≠ê Primary</span>
                            <span class="badge badge-active">‚úì Active</span>
                            <span class="badge badge-cat">üèçÔ∏è Motorcycle</span>
                            <span class="badge" style="background:var(--orange-pale);color:#92400e;">‚ö†Ô∏è Rego 21 days</span>
                        </div>
                    </div>
                    <span class="vehicle-expand">‚ñº</span>
                </div>
                <div class="vehicle-detail">
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Category</div>
                            <div class="detail-value">üèçÔ∏è Motorcycle</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Make</div>
                            <div class="detail-value">BMW</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Model</div>
                            <div class="detail-value">R1250GS</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Variant</div>
                            <div class="detail-value">Adventure</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Year</div>
                            <div class="detail-value">2020</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Nickname</div>
                            <div class="detail-value" style="font-style:italic;">"Big Red"</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Registration Number</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:2px;font-weight:700;">KPB 249</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">VIN / Serial Number</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:1px;">WB10E030XLZY12345</div>
                        </div>
                    </div>

                    <!-- Compliance -->
                    <div class="compliance-grid">
                        <div class="compliance-card valid">
                            <div class="cc-header">
                                <span class="cc-type">üõ°Ô∏è WOF</span>
                                <span class="cc-badge valid">‚úì Valid</span>
                            </div>
                            <div class="cc-expiry">Expires: 18 Aug 2026</div>
                            <div class="cc-remind">üîî Reminders at 30, 14, 7 days before</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-08-18">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('WOF date updated','success')">Update</button>
                            </div>
                        </div>
                        <div class="compliance-card expiring">
                            <div class="cc-header">
                                <span class="cc-type">üìã Registration</span>
                                <span class="cc-badge expiring">‚ö†Ô∏è Expiring Soon</span>
                            </div>
                            <div class="cc-expiry">Expires: 5 Mar 2026</div>
                            <div class="cc-remind">üîî 21 days remaining ‚Äî renewal reminder sent</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-03-05">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Rego date updated','success')">Update</button>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid" style="margin-top:12px;">
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚≠ê Primary Transport</div>
                                <div class="toggle-hint">Shown first on your profile</div>
                            </div>
                            <label class="toggle"><input type="checkbox" checked><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚úì Currently Active</div>
                                <div class="toggle-hint">Visible in Find It searches</div>
                            </div>
                            <label class="toggle"><input type="checkbox" checked><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row" style="grid-column:1/-1;">
                            <div class="toggle-left">
                                <div class="toggle-label">üìè Distance Units</div>
                                <div class="toggle-hint">Used for odometer and service intervals</div>
                            </div>
                            <div class="unit-toggle">
                                <span class="unit-opt active" onclick="setUnit(this,'km')">km</span>
                                <span class="unit-opt" onclick="setUnit(this,'mi')">mi</span>
                            </div>
                        </div>
                    </div>
                    <div class="sub-section">
                        <div class="sub-section-label">üéí Items Carried</div>
                        <div style="font-size:11px;color:var(--text-muted);margin:-4px 0 8px;">Searchable tags help others find you ¬∑ Custom items for specific parts</div>
                        <div class="cap-grid">
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîß Basic tools</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">‚õΩ Spare fuel</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîå Jump leads</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">ü™¢ Tow rope</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü©π First aid kit</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üèïÔ∏è Camping gear</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üì° Satellite comms</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üí° Work light</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üõû Tyre repair kit</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üîã Portable charger</span>
                        </div>
                        <div style="margin-top:12px;border-top:1px solid var(--border);padding-top:12px;">
                            <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);margin-bottom:6px;">Custom Items</div>
                            <div class="parts-list" id="parts-v1">
                                <div class="part-item">
                                    <span class="part-name">üîó Clutch cable</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üí° Headlight bulb (H7)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üõû Inner tube (21" front)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üî© Brake pads (front)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                            </div>
                            <div class="add-part-row">
                                <input class="add-part-input" placeholder="Add custom item..." id="part-input-v1" onkeydown="if(event.key==='Enter') addPart('v1')">
                                <button class="btn btn-secondary btn-sm" onclick="addPart('v1')">+ Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Odometer -->
                    <div class="odo-bar">
                        <div class="odo-icon">üî¢</div>
                        <div class="odo-info">
                            <div class="odo-reading">42,387 km</div>
                            <div class="odo-label">Last updated: 10 Feb 2026 (check-in near Blenheim)</div>
                        </div>
                        <div class="odo-update">
                            <input class="odo-input" type="number" placeholder="42,500" id="odo-v1">
                            <button class="btn btn-sm btn-secondary" onclick="updateOdo('v1')">Update</button>
                        </div>
                    </div>

                    <!-- Service Log -->
                    <div class="sub-section">
                        <div class="sub-section-label" style="display:flex;align-items:center;justify-content:space-between;">
                            <span>üîß Service Log</span>
                            <button class="btn btn-sm btn-secondary" onclick="toggleServiceForm('svc-form-v1')" style="font-size:11px;">+ Add Service</button>
                        </div>

                        <table class="service-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Service</th>
                                    <th>Odometer</th>
                                    <th>Where</th>
                                    <th>Cost</th>
                                    <th>Next Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>5 Feb 2026</td>
                                    <td><span class="svc-type">üõ¢Ô∏è Oil & Filter</span></td>
                                    <td>41,800 km</td>
                                    <td><a class="svc-where" href="logit.html">Bikers Garage, Christchurch ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 185</span></td>
                                    <td><span class="svc-due soon">‚ö†Ô∏è ~51,800 km (9,413 km)</span></td>
                                </tr>
                                <tr>
                                    <td>12 Jan 2026</td>
                                    <td><span class="svc-type">üõû Front Tyre</span></td>
                                    <td>39,200 km</td>
                                    <td><a class="svc-where" href="logit.html">Moto Tyres NZ, Dunedin ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 320</span></td>
                                    <td><span class="svc-due ok">‚úì ~54,200 km (11,813 km)</span></td>
                                </tr>
                                <tr>
                                    <td>28 Nov 2025</td>
                                    <td><span class="svc-type">‚õìÔ∏è Chain & Sprockets</span></td>
                                    <td>36,500 km</td>
                                    <td><a class="svc-where" href="logit.html">Self (DIY)</a></td>
                                    <td><span class="svc-cost">NZD 280</span></td>
                                    <td><span class="svc-due ok">‚úì ~56,500 km (14,113 km)</span></td>
                                </tr>
                                <tr>
                                    <td>15 Oct 2025</td>
                                    <td><span class="svc-type">üõ¢Ô∏è Oil & Filter</span></td>
                                    <td>31,600 km</td>
                                    <td><a class="svc-where" href="logit.html">BMW Motorrad Auckland ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 220</span></td>
                                    <td><span class="svc-due" style="color:var(--text-muted);">‚úì Done (replaced 5 Feb)</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Add Service Form -->
                        <div class="add-service-form" id="svc-form-v1">
                            <div style="font-size:13px;font-weight:700;margin-bottom:10px;">‚ûï Log New Service</div>
                            <div class="svc-form-grid">
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Service Type *</label>
                                    <select class="svc-form-select">
                                        <option value="">Select...</option>
                                        <option>üõ¢Ô∏è Oil Change</option>
                                        <option>üõ¢Ô∏è Oil & Filter</option>
                                        <option>üõû Front Tyre</option>
                                        <option>üõû Rear Tyre</option>
                                        <option>‚õìÔ∏è Chain & Sprockets</option>
                                        <option>üî© Brake Pads (Front)</option>
                                        <option>üî© Brake Pads (Rear)</option>
                                        <option>üîå Spark Plugs</option>
                                        <option>üíß Coolant Flush</option>
                                        <option>üîß Full Service</option>
                                        <option>üîã Battery</option>
                                        <option>üí° Bulb Replacement</option>
                                        <option>üõû Wheel Bearings</option>
                                        <option>üìã Other</option>
                                    </select>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Date *</label>
                                    <input class="svc-form-input" type="date" value="2026-02-12">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Odometer (km)</label>
                                    <input class="svc-form-input" type="number" placeholder="42,387">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Cost</label>
                                    <div class="cost-combo">
                                        <select class="cost-currency">
                                            <option value="" disabled>Select currency...</option>
                                            <optgroup label="Oceania">
                                                <option selected>NZD</option>
                                                <option>AUD</option>
                                                <option>FJD</option>
                                                <option>PGK</option>
                                                <option>WST</option>
                                                <option>TOP</option>
                                            </optgroup>
                                            <optgroup label="Asia">
                                                <option>JPY</option>
                                                <option>CNY</option>
                                                <option>KRW</option>
                                                <option>TWD</option>
                                                <option>HKD</option>
                                                <option>SGD</option>
                                                <option>MYR</option>
                                                <option>THB</option>
                                                <option>VND</option>
                                                <option>IDR</option>
                                                <option>PHP</option>
                                                <option>INR</option>
                                                <option>LKR</option>
                                                <option>NPR</option>
                                                <option>PKR</option>
                                                <option>BDT</option>
                                                <option>KHR</option>
                                                <option>LAK</option>
                                                <option>MMK</option>
                                            </optgroup>
                                            <optgroup label="Middle East">
                                                <option>AED</option>
                                                <option>SAR</option>
                                                <option>QAR</option>
                                                <option>OMR</option>
                                                <option>BHD</option>
                                                <option>KWD</option>
                                                <option>JOD</option>
                                                <option>ILS</option>
                                                <option>TRY</option>
                                            </optgroup>
                                            <optgroup label="Europe">
                                                <option>EUR</option>
                                                <option>GBP</option>
                                                <option>CHF</option>
                                                <option>NOK</option>
                                                <option>SEK</option>
                                                <option>DKK</option>
                                                <option>ISK</option>
                                                <option>PLN</option>
                                                <option>CZK</option>
                                                <option>HUF</option>
                                                <option>RON</option>
                                                <option>BGN</option>
                                                <option>HRK</option>
                                                <option>RSD</option>
                                                <option>GEL</option>
                                                <option>UAH</option>
                                                <option>RUB</option>
                                            </optgroup>
                                            <optgroup label="Americas">
                                                <option>USD</option>
                                                <option>CAD</option>
                                                <option>MXN</option>
                                                <option>BRL</option>
                                                <option>ARS</option>
                                                <option>CLP</option>
                                                <option>COP</option>
                                                <option>PEN</option>
                                                <option>BOB</option>
                                                <option>UYU</option>
                                                <option>PYG</option>
                                                <option>CRC</option>
                                                <option>GTQ</option>
                                                <option>JMD</option>
                                            </optgroup>
                                            <optgroup label="Africa">
                                                <option>ZAR</option>
                                                <option>KES</option>
                                                <option>TZS</option>
                                                <option>UGX</option>
                                                <option>ETB</option>
                                                <option>NGN</option>
                                                <option>GHS</option>
                                                <option>MAD</option>
                                                <option>EGP</option>
                                                <option>TND</option>
                                                <option>BWP</option>
                                                <option>NAD</option>
                                                <option>MUR</option>
                                                <option>MZN</option>
                                            </optgroup>
                                        </select>
                                        <input class="cost-amount" type="number" placeholder="0.00" step="0.01">
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Where</label>
                                    <select class="svc-form-select" onchange="handleWhereChange(this, 'v1')">
                                        <option value="">Select supplier...</option>
                                        <option value="search">üîç Search Log It places...</option>
                                        <option>üîß Bikers Garage, Christchurch</option>
                                        <option>üîß Moto Tyres NZ, Dunedin</option>
                                        <option>üîß BMW Motorrad Auckland</option>
                                        <option>üõ†Ô∏è Self (DIY)</option>
                                        <option value="other">üìù Other...</option>
                                    </select>
                                    <div class="where-search" id="where-search-v1">
                                        <input class="where-search-input" placeholder="Search nearby service providers..." oninput="filterPlaces(this)">
                                        <div class="where-results">
                                            <div class="where-result" onclick="selectPlace(this, 'v1')">
                                                <span class="wr-icon">üîß</span>
                                                <div class="wr-info"><div class="wr-name">Pete's Motorcycle Workshop</div><div class="wr-meta">Kaikoura ¬∑ 12 km ¬∑ Logged by SwiftTrail099</div></div>
                                                <span class="wr-rating">‚≠ê 4.8</span>
                                            </div>
                                            <div class="where-result" onclick="selectPlace(this, 'v1')">
                                                <span class="wr-icon">üîß</span>
                                                <div class="wr-info"><div class="wr-name">Coastal Moto Services</div><div class="wr-meta">Blenheim ¬∑ 45 km ¬∑ 3 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.5</span>
                                            </div>
                                            <div class="where-result" onclick="selectPlace(this, 'v1')">
                                                <span class="wr-icon">üõû</span>
                                                <div class="wr-info"><div class="wr-name">South Island Tyres</div><div class="wr-meta">Kaikoura ¬∑ 8 km ¬∑ 7 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.2</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="where-other" id="where-other-v1">
                                        <input class="where-other-input" placeholder="Type supplier name and location...">
                                        <label class="logit-add"><input type="checkbox"> üìç Also add this place to Log It so others can find it</label>
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Next Due (km interval)</label>
                                    <select class="svc-form-select">
                                        <option value="">No reminder</option>
                                        <option value="5000">Every 5,000 km</option>
                                        <option value="10000" selected>Every 10,000 km</option>
                                        <option value="15000">Every 15,000 km</option>
                                        <option value="20000">Every 20,000 km</option>
                                        <option value="30000">Every 30,000 km</option>
                                        <option value="custom">Custom interval...</option>
                                    </select>
                                </div>
                                <div class="svc-form-full">
                                    <div class="svc-form-group">
                                        <label class="svc-form-label">Notes</label>
                                        <input class="svc-form-input" placeholder="e.g. Used Motul 7100 10W-40, dealer recommended next at 50k...">
                                    </div>
                                </div>
                            </div>
                            <div style="display:flex;gap:8px;margin-top:12px;">
                                <button class="btn btn-primary btn-sm" onclick="showToast('Service logged!','success'); toggleServiceForm('svc-form-v1');">‚úì Log Service</button>
                                <button class="btn btn-secondary btn-sm" onclick="toggleServiceForm('svc-form-v1')">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <!-- Photo Upload -->
                    <div class="sub-section">
                        <div class="sub-section-label">üì∑ Photos <span style="font-weight:400;font-size:11px;text-transform:none;letter-spacing:0;">(up to 3)</span></div>
                        <div class="photo-grid">
                            <div class="photo-slot has-photo" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üèçÔ∏è</span>
                                <span class="ps-label">Transport</span>
                                <span class="ps-status">‚úì Uploaded</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üì∏</span>
                                <span class="ps-label">Additional</span>
                                <span class="ps-hint">Optional</span>
                            </div>
                            <div class="photo-slot has-photo" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üî¢</span>
                                <span class="ps-label">VIN / Serial</span>
                                <span class="ps-status">‚úì Uploaded</span>
                            </div>
                        </div>
                        <div style="font-size:10px;color:var(--text-muted);margin-top:6px;">Transport photo helps others identify you during roadside help ¬∑ VIN/Serial photo aids recovery if stolen</div>
                    </div>

                    <div class="detail-actions">
                        <button class="btn btn-secondary btn-sm" onclick="showToast('Changes saved!','success'); this.closest('.vehicle-card').classList.remove('open')">üíæ Save Changes</button>
                        <button class="btn btn-danger btn-sm" onclick="confirm('Delete BMW R1250GS? This cannot be undone.') && deleteVehicle('v1')">üóëÔ∏è Delete</button>
                    </div>
                </div>
            </div>

            <!-- VEHICLE 2: Bicycle -->
            <div class="vehicle-card" id="v2">
                <div class="vehicle-summary" onclick="toggleVehicle('v2')">
                    <div class="vehicle-photo">üö¥</div>
                    <div class="vehicle-main">
                        <div class="vehicle-name">
                            Specialized Roubaix Sport
                        </div>
                        <div class="vehicle-meta">2022 ¬∑ Bicycle ¬∑ Added Jan 2026</div>
                        <div class="vehicle-badges">
                            <span class="badge badge-active">‚úì Active</span>
                            <span class="badge badge-cat">üö¥ Bicycle</span>
                        </div>
                    </div>
                    <span class="vehicle-expand">‚ñº</span>
                </div>
                <div class="vehicle-detail">
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Category</div>
                            <div class="detail-value">üö¥ Bicycle</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Make</div>
                            <div class="detail-value">Specialized</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Model</div>
                            <div class="detail-value">Roubaix</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Variant</div>
                            <div class="detail-value">Sport</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Year</div>
                            <div class="detail-value">2022</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Nickname</div>
                            <div class="detail-value" style="color:var(--text-muted);font-style:italic;">Not set</div>
                        </div>
                        <div class="detail-item detail-full">
                            <div class="detail-label">Frame / Serial Number</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:1px;color:var(--text-muted);">Not set</div>
                        </div>
                    </div>

                    <div class="detail-grid" style="margin-top:12px;">
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚≠ê Primary Transport</div>
                                <div class="toggle-hint">Shown first on your profile</div>
                            </div>
                            <label class="toggle"><input type="checkbox"><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚úì Currently Active</div>
                                <div class="toggle-hint">Visible in Find It searches</div>
                            </div>
                            <label class="toggle"><input type="checkbox" checked><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row" style="grid-column:1/-1;">
                            <div class="toggle-left">
                                <div class="toggle-label">üìè Distance Units</div>
                                <div class="toggle-hint">Used for odometer and service intervals</div>
                            </div>
                            <div class="unit-toggle">
                                <span class="unit-opt active" onclick="setUnit(this,'km')">km</span>
                                <span class="unit-opt" onclick="setUnit(this,'mi')">mi</span>
                            </div>
                        </div>
                    </div>

                    <div class="sub-section">
                        <div class="sub-section-label">üéí Items Carried</div>
                        <div style="font-size:11px;color:var(--text-muted);margin:-4px 0 8px;">Searchable tags help others find you ¬∑ Custom items for specific parts</div>
                        <div class="cap-grid">
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîß Multi-tool</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üõû Tyre repair kit</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü©π First aid kit</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üí° Work light</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üîã Portable charger</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üíß Water purification</span>
                        </div>
                        <div style="margin-top:12px;border-top:1px solid var(--border);padding-top:12px;">
                            <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);margin-bottom:6px;">Custom Items</div>
                            <div class="parts-list" id="parts-v2">
                                <div class="part-item">
                                    <span class="part-name">üõû Inner tube x2 (700c)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üîó Chain links</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                            </div>
                            <div class="add-part-row">
                                <input class="add-part-input" placeholder="Add custom item..." id="part-input-v2" onkeydown="if(event.key==='Enter') addPart('v2')">
                                <button class="btn btn-secondary btn-sm" onclick="addPart('v2')">+ Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Odometer (optional for bicycles) -->
                    <div class="toggle-row" style="margin-top:14px;">
                        <div class="toggle-left">
                            <div class="toggle-label">üî¢ Track Odometer</div>
                            <div class="toggle-hint">Enable if you use a bike computer (Garmin, Wahoo, etc.)</div>
                        </div>
                        <label class="toggle"><input type="checkbox" onchange="document.getElementById('odo-v2-bar').style.display = this.checked ? 'flex' : 'none'"><span class="toggle-track"></span></label>
                    </div>
                    <div class="odo-bar" id="odo-v2-bar" style="display:none;">
                        <div class="odo-icon">üî¢</div>
                        <div class="odo-info">
                            <div class="odo-reading">‚Äî km</div>
                            <div class="odo-label">No reading yet ‚Äî enter your first reading</div>
                        </div>
                        <div class="odo-update">
                            <input class="odo-input" type="number" placeholder="0" id="odo-v2">
                            <button class="btn btn-sm btn-secondary" onclick="updateOdo('v2')">Update</button>
                        </div>
                    </div>

                    <!-- Service Log -->
                    <div class="sub-section">
                        <div class="sub-section-label" style="display:flex;align-items:center;justify-content:space-between;">
                            <span>üîß Service Log</span>
                            <button class="btn btn-sm btn-secondary" onclick="toggleServiceForm('svc-form-v2')" style="font-size:11px;">+ Add Service</button>
                        </div>

                        <table class="service-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Service</th>
                                    <th>Where</th>
                                    <th>Cost</th>
                                    <th>Next Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>20 Jan 2026</td>
                                    <td><span class="svc-type">‚õìÔ∏è Chain</span></td>
                                    <td><a class="svc-where" href="logit.html">Cycle Surgery, Queenstown ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 85</span></td>
                                    <td><span class="svc-due ok">‚úì ~Jul 2026</span></td>
                                </tr>
                                <tr>
                                    <td>5 Dec 2025</td>
                                    <td><span class="svc-type">üõû Rear Tyre</span></td>
                                    <td><a class="svc-where" href="logit.html">Self (DIY)</a></td>
                                    <td><span class="svc-cost">NZD 65</span></td>
                                    <td><span class="svc-due ok">‚úì ~Jun 2026</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Add Service Form -->
                        <div class="add-service-form" id="svc-form-v2">
                            <div style="font-size:13px;font-weight:700;margin-bottom:10px;">‚ûï Log New Service</div>
                            <div class="svc-form-grid">
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Service Type *</label>
                                    <select class="svc-form-select">
                                        <option value="">Select...</option>
                                        <option>‚õìÔ∏è Chain</option>
                                        <option>üõû Front Tyre</option>
                                        <option>üõû Rear Tyre</option>
                                        <option>üî© Brake Pads</option>
                                        <option>üîå Cables</option>
                                        <option>üõû Wheel True</option>
                                        <option>üîß Full Service</option>
                                        <option>üìã Other</option>
                                    </select>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Date *</label>
                                    <input class="svc-form-input" type="date" value="2026-02-12">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Cost</label>
                                    <div class="cost-combo">
                                        <select class="cost-currency">
                                            <option value="" disabled>Select currency...</option>
                                            <optgroup label="Oceania">
                                                <option selected>NZD</option>
                                                <option>AUD</option>
                                                <option>FJD</option>
                                                <option>PGK</option>
                                                <option>WST</option>
                                                <option>TOP</option>
                                            </optgroup>
                                            <optgroup label="Asia">
                                                <option>JPY</option>
                                                <option>CNY</option>
                                                <option>KRW</option>
                                                <option>TWD</option>
                                                <option>HKD</option>
                                                <option>SGD</option>
                                                <option>MYR</option>
                                                <option>THB</option>
                                                <option>VND</option>
                                                <option>IDR</option>
                                                <option>PHP</option>
                                                <option>INR</option>
                                                <option>LKR</option>
                                                <option>NPR</option>
                                                <option>PKR</option>
                                                <option>BDT</option>
                                                <option>KHR</option>
                                                <option>LAK</option>
                                                <option>MMK</option>
                                            </optgroup>
                                            <optgroup label="Middle East">
                                                <option>AED</option>
                                                <option>SAR</option>
                                                <option>QAR</option>
                                                <option>OMR</option>
                                                <option>BHD</option>
                                                <option>KWD</option>
                                                <option>JOD</option>
                                                <option>ILS</option>
                                                <option>TRY</option>
                                            </optgroup>
                                            <optgroup label="Europe">
                                                <option>EUR</option>
                                                <option>GBP</option>
                                                <option>CHF</option>
                                                <option>NOK</option>
                                                <option>SEK</option>
                                                <option>DKK</option>
                                                <option>ISK</option>
                                                <option>PLN</option>
                                                <option>CZK</option>
                                                <option>HUF</option>
                                                <option>RON</option>
                                                <option>BGN</option>
                                                <option>HRK</option>
                                                <option>RSD</option>
                                                <option>GEL</option>
                                                <option>UAH</option>
                                                <option>RUB</option>
                                            </optgroup>
                                            <optgroup label="Americas">
                                                <option>USD</option>
                                                <option>CAD</option>
                                                <option>MXN</option>
                                                <option>BRL</option>
                                                <option>ARS</option>
                                                <option>CLP</option>
                                                <option>COP</option>
                                                <option>PEN</option>
                                                <option>BOB</option>
                                                <option>UYU</option>
                                                <option>PYG</option>
                                                <option>CRC</option>
                                                <option>GTQ</option>
                                                <option>JMD</option>
                                            </optgroup>
                                            <optgroup label="Africa">
                                                <option>ZAR</option>
                                                <option>KES</option>
                                                <option>TZS</option>
                                                <option>UGX</option>
                                                <option>ETB</option>
                                                <option>NGN</option>
                                                <option>GHS</option>
                                                <option>MAD</option>
                                                <option>EGP</option>
                                                <option>TND</option>
                                                <option>BWP</option>
                                                <option>NAD</option>
                                                <option>MUR</option>
                                                <option>MZN</option>
                                            </optgroup>
                                        </select>
                                        <input class="cost-amount" type="number" placeholder="0.00" step="0.01">
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Odometer (km)</label>
                                    <input class="svc-form-input" type="number" placeholder="Optional">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Where</label>
                                    <select class="svc-form-select" onchange="handleWhereChange(this, 'v2')">
                                        <option value="">Select supplier...</option>
                                        <option value="search">üîç Search Log It places...</option>
                                        <option>üîß Cycle Surgery, Queenstown</option>
                                        <option>üõ†Ô∏è Self (DIY)</option>
                                        <option value="other">üìù Other...</option>
                                    </select>
                                    <div class="where-search" id="where-search-v2">
                                        <input class="where-search-input" placeholder="Search nearby service providers..." oninput="filterPlaces(this)">
                                        <div class="where-results">
                                            <div class="where-result" onclick="selectPlace(this, 'v2')">
                                                <span class="wr-icon">üö¥</span>
                                                <div class="wr-info"><div class="wr-name">Velo Cycle Works</div><div class="wr-meta">Arrowtown ¬∑ 18 km ¬∑ 2 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.9</span>
                                            </div>
                                            <div class="where-result" onclick="selectPlace(this, 'v2')">
                                                <span class="wr-icon">üö¥</span>
                                                <div class="wr-info"><div class="wr-name">Outside Sports</div><div class="wr-meta">Queenstown ¬∑ 3 km ¬∑ 5 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.3</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="where-other" id="where-other-v2">
                                        <input class="where-other-input" placeholder="Type supplier name and location...">
                                        <label class="logit-add"><input type="checkbox"> üìç Also add this place to Log It so others can find it</label>
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Next Due</label>
                                    <select class="svc-form-select">
                                        <option value="">No reminder</option>
                                        <optgroup label="By distance">
                                            <option value="2000">Every 2,000 km</option>
                                            <option value="5000">Every 5,000 km</option>
                                            <option value="10000">Every 10,000 km</option>
                                        </optgroup>
                                        <optgroup label="By time">
                                            <option value="3m">Every 3 months</option>
                                            <option value="6m" selected>Every 6 months</option>
                                            <option value="12m">Every 12 months</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="svc-form-full">
                                    <div class="svc-form-group">
                                        <label class="svc-form-label">Notes</label>
                                        <input class="svc-form-input" placeholder="e.g. Shimano 105 chain, replaced cassette too...">
                                    </div>
                                </div>
                            </div>
                            <div style="display:flex;gap:8px;margin-top:12px;">
                                <button class="btn btn-primary btn-sm" onclick="showToast('Service logged!','success'); toggleServiceForm('svc-form-v2');">‚úì Log Service</button>
                                <button class="btn btn-secondary btn-sm" onclick="toggleServiceForm('svc-form-v2')">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <div class="sub-section">
                        <div class="sub-section-label">üì∑ Photos <span style="font-weight:400;font-size:11px;text-transform:none;letter-spacing:0;">(up to 3)</span></div>
                        <div class="photo-grid">
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üö¥</span>
                                <span class="ps-label">Transport</span>
                                <span class="ps-hint">Tap to upload</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üì∏</span>
                                <span class="ps-label">Additional</span>
                                <span class="ps-hint">Optional</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üî¢</span>
                                <span class="ps-label">Frame / Serial</span>
                                <span class="ps-hint">Tap to upload</span>
                            </div>
                        </div>
                        <div style="font-size:10px;color:var(--text-muted);margin-top:6px;">Transport photo helps others identify you ¬∑ Serial photo aids recovery if stolen</div>
                    </div>

                    <div class="detail-actions">
                        <button class="btn btn-secondary btn-sm" onclick="showToast('Changes saved!','success'); this.closest('.vehicle-card').classList.remove('open')">üíæ Save Changes</button>
                        <button class="btn btn-danger btn-sm" onclick="confirm('Delete Specialized Roubaix?') && deleteVehicle('v2')">üóëÔ∏è Delete</button>
                    </div>
                </div>
            </div>

            <!-- VEHICLE 3: Campervan (inactive) -->
            <div class="vehicle-card" id="v3">
                <div class="vehicle-summary" onclick="toggleVehicle('v3')">
                    <div class="vehicle-photo" style="opacity:0.5;">üöê</div>
                    <div class="vehicle-main">
                        <div class="vehicle-name" style="color:var(--grey-500);">
                            Toyota HiAce Campervan
                            <span class="vehicle-nickname">"The Van"</span>
                        </div>
                        <div class="vehicle-meta">2015 ¬∑ Campervan ¬∑ Added Dec 2025</div>
                        <div class="vehicle-badges">
                            <span class="badge badge-inactive">‚è∏Ô∏è Inactive</span>
                            <span class="badge badge-cat">üöê Campervan</span>
                            <span class="badge" style="background:var(--red-pale);color:var(--red);">‚úï WOF Expired</span>
                        </div>
                    </div>
                    <span class="vehicle-expand">‚ñº</span>
                </div>
                <div class="vehicle-detail">
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Category</div>
                            <div class="detail-value">üöê Campervan</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Make</div>
                            <div class="detail-value">Toyota</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Model</div>
                            <div class="detail-value">HiAce</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Variant</div>
                            <div class="detail-value">Campervan (self-build)</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Year</div>
                            <div class="detail-value">2015</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Nickname</div>
                            <div class="detail-value" style="font-style:italic;">"The Van"</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Registration Number</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:2px;font-weight:700;">GNZ 4012</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">VIN / Serial Number</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:1px;">JTFHX02P200045678</div>
                        </div>
                    </div>

                    <!-- Compliance -->
                    <div class="compliance-grid">
                        <div class="compliance-card expired">
                            <div class="cc-header">
                                <span class="cc-type">üõ°Ô∏è WOF</span>
                                <span class="cc-badge expired">‚úï Expired</span>
                            </div>
                            <div class="cc-expiry">Expired: 12 Jan 2026</div>
                            <div class="cc-remind">‚ö†Ô∏è Expired 31 days ago ‚Äî vehicle not roadworthy</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-01-12">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('WOF date updated','success')">Update</button>
                            </div>
                        </div>
                        <div class="compliance-card valid">
                            <div class="cc-header">
                                <span class="cc-type">üìã Registration</span>
                                <span class="cc-badge valid">‚úì Valid</span>
                            </div>
                            <div class="cc-expiry">Expires: 22 Nov 2026</div>
                            <div class="cc-remind">üîî Reminders at 30, 14, 7 days before</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-11-22">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Rego date updated','success')">Update</button>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid" style="margin-top:12px;">
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚≠ê Primary Transport</div>
                                <div class="toggle-hint">Shown first on your profile</div>
                            </div>
                            <label class="toggle"><input type="checkbox"><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚úì Currently Active</div>
                                <div class="toggle-hint">Hidden from Find It when off</div>
                            </div>
                            <label class="toggle"><input type="checkbox"><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row" style="grid-column:1/-1;">
                            <div class="toggle-left">
                                <div class="toggle-label">üìè Distance Units</div>
                                <div class="toggle-hint">Used for odometer and service intervals</div>
                            </div>
                            <div class="unit-toggle">
                                <span class="unit-opt active" onclick="setUnit(this,'km')">km</span>
                                <span class="unit-opt" onclick="setUnit(this,'mi')">mi</span>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top:12px;padding:10px 14px;background:var(--orange-pale);border:1px solid #fbbf24;border-radius:var(--radius-sm);font-size:12px;color:#92400e;">
                        ‚è∏Ô∏è This transport is inactive and won't appear in Find It searches. Toggle "Currently Active" to make it visible again.
                    </div>

                    <div class="sub-section">
                        <div class="sub-section-label">üéí Items Carried</div>
                        <div style="font-size:11px;color:var(--text-muted);margin:-4px 0 8px;">Searchable tags help others find you ¬∑ Custom items for specific parts</div>
                        <div class="cap-grid">
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîß Full toolkit</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü™¢ Tow rope</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîå Jump leads</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü©π First aid kit</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üèïÔ∏è Camping gear</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üí° Work light</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üì° Satellite comms</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üîã Portable charger</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">‚õΩ Spare fuel</span>
                        </div>
                        <div style="margin-top:12px;border-top:1px solid var(--border);padding-top:12px;">
                            <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);margin-bottom:6px;">Custom Items</div>
                            <div class="parts-list" id="parts-v3">
                                <div class="part-item">
                                    <span class="part-name">üõû Spare tyre</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                            </div>
                            <div class="add-part-row">
                                <input class="add-part-input" placeholder="Add custom item..." id="part-input-v3" onkeydown="if(event.key==='Enter') addPart('v3')">
                                <button class="btn btn-secondary btn-sm" onclick="addPart('v3')">+ Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Odometer -->
                    <div class="odo-bar">
                        <div class="odo-icon">üî¢</div>
                        <div class="odo-info">
                            <div class="odo-reading">187,420 km</div>
                            <div class="odo-label">Last updated: 15 Dec 2025 (manual entry)</div>
                        </div>
                        <div class="odo-update">
                            <input class="odo-input" type="number" placeholder="187,500" id="odo-v3">
                            <button class="btn btn-sm btn-secondary" onclick="updateOdo('v3')">Update</button>
                        </div>
                    </div>

                    <!-- Service Log -->
                    <div class="sub-section">
                        <div class="sub-section-label" style="display:flex;align-items:center;justify-content:space-between;">
                            <span>üîß Service Log</span>
                            <button class="btn btn-sm btn-secondary" onclick="toggleServiceForm('svc-form-v3')" style="font-size:11px;">+ Add Service</button>
                        </div>

                        <table class="service-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Service</th>
                                    <th>Odometer</th>
                                    <th>Where</th>
                                    <th>Cost</th>
                                    <th>Next Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>10 Dec 2025</td>
                                    <td><span class="svc-type">üõ¢Ô∏è Oil & Filter</span></td>
                                    <td>187,200 km</td>
                                    <td><a class="svc-where" href="logit.html">Self (DIY)</a></td>
                                    <td><span class="svc-cost">NZD 95</span></td>
                                    <td><span class="svc-due overdue">‚ö†Ô∏è Overdue (~197,200 km)</span></td>
                                </tr>
                                <tr>
                                    <td>8 Nov 2025</td>
                                    <td><span class="svc-type">üõû All Tyres</span></td>
                                    <td>185,000 km</td>
                                    <td><a class="svc-where" href="logit.html">Beaurepaires, Hamilton ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 780</span></td>
                                    <td><span class="svc-due ok">‚úì ~235,000 km</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="add-service-form" id="svc-form-v3">
                            <div style="font-size:13px;font-weight:700;margin-bottom:10px;">‚ûï Log New Service</div>
                            <div class="svc-form-grid">
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Service Type *</label>
                                    <select class="svc-form-select">
                                        <option value="">Select...</option>
                                        <option>üõ¢Ô∏è Oil Change</option>
                                        <option>üõ¢Ô∏è Oil & Filter</option>
                                        <option>üõû Tyres</option>
                                        <option>üî© Brake Pads</option>
                                        <option>üíß Coolant</option>
                                        <option>üîß WOF / Inspection</option>
                                        <option>üîß Full Service</option>
                                        <option>üîã Battery</option>
                                        <option>üìã Other</option>
                                    </select>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Date *</label>
                                    <input class="svc-form-input" type="date" value="2026-02-12">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Odometer (km)</label>
                                    <input class="svc-form-input" type="number" placeholder="187,420">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Cost</label>
                                    <div class="cost-combo">
                                        <select class="cost-currency">
                                            <option value="" disabled>Select currency...</option>
                                            <optgroup label="Oceania">
                                                <option selected>NZD</option>
                                                <option>AUD</option>
                                                <option>FJD</option>
                                                <option>PGK</option>
                                                <option>WST</option>
                                                <option>TOP</option>
                                            </optgroup>
                                            <optgroup label="Asia">
                                                <option>JPY</option>
                                                <option>CNY</option>
                                                <option>KRW</option>
                                                <option>TWD</option>
                                                <option>HKD</option>
                                                <option>SGD</option>
                                                <option>MYR</option>
                                                <option>THB</option>
                                                <option>VND</option>
                                                <option>IDR</option>
                                                <option>PHP</option>
                                                <option>INR</option>
                                                <option>LKR</option>
                                                <option>NPR</option>
                                                <option>PKR</option>
                                                <option>BDT</option>
                                                <option>KHR</option>
                                                <option>LAK</option>
                                                <option>MMK</option>
                                            </optgroup>
                                            <optgroup label="Middle East">
                                                <option>AED</option>
                                                <option>SAR</option>
                                                <option>QAR</option>
                                                <option>OMR</option>
                                                <option>BHD</option>
                                                <option>KWD</option>
                                                <option>JOD</option>
                                                <option>ILS</option>
                                                <option>TRY</option>
                                            </optgroup>
                                            <optgroup label="Europe">
                                                <option>EUR</option>
                                                <option>GBP</option>
                                                <option>CHF</option>
                                                <option>NOK</option>
                                                <option>SEK</option>
                                                <option>DKK</option>
                                                <option>ISK</option>
                                                <option>PLN</option>
                                                <option>CZK</option>
                                                <option>HUF</option>
                                                <option>RON</option>
                                                <option>BGN</option>
                                                <option>HRK</option>
                                                <option>RSD</option>
                                                <option>GEL</option>
                                                <option>UAH</option>
                                                <option>RUB</option>
                                            </optgroup>
                                            <optgroup label="Americas">
                                                <option>USD</option>
                                                <option>CAD</option>
                                                <option>MXN</option>
                                                <option>BRL</option>
                                                <option>ARS</option>
                                                <option>CLP</option>
                                                <option>COP</option>
                                                <option>PEN</option>
                                                <option>BOB</option>
                                                <option>UYU</option>
                                                <option>PYG</option>
                                                <option>CRC</option>
                                                <option>GTQ</option>
                                                <option>JMD</option>
                                            </optgroup>
                                            <optgroup label="Africa">
                                                <option>ZAR</option>
                                                <option>KES</option>
                                                <option>TZS</option>
                                                <option>UGX</option>
                                                <option>ETB</option>
                                                <option>NGN</option>
                                                <option>GHS</option>
                                                <option>MAD</option>
                                                <option>EGP</option>
                                                <option>TND</option>
                                                <option>BWP</option>
                                                <option>NAD</option>
                                                <option>MUR</option>
                                                <option>MZN</option>
                                            </optgroup>
                                        </select>
                                        <input class="cost-amount" type="number" placeholder="0.00" step="0.01">
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Where</label>
                                    <select class="svc-form-select" onchange="handleWhereChange(this, 'v3')">
                                        <option value="">Select supplier...</option>
                                        <option value="search">üîç Search Log It places...</option>
                                        <option>üîß Beaurepaires, Hamilton</option>
                                        <option>üõ†Ô∏è Self (DIY)</option>
                                        <option value="other">üìù Other...</option>
                                    </select>
                                    <div class="where-search" id="where-search-v3">
                                        <input class="where-search-input" placeholder="Search nearby service providers..." oninput="filterPlaces(this)">
                                        <div class="where-results">
                                            <div class="where-result" onclick="selectPlace(this, 'v3')">
                                                <span class="wr-icon">üîß</span>
                                                <div class="wr-info"><div class="wr-name">Hamilton Auto Centre</div><div class="wr-meta">Hamilton ¬∑ 5 km ¬∑ 4 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.6</span>
                                            </div>
                                            <div class="where-result" onclick="selectPlace(this, 'v3')">
                                                <span class="wr-icon">üîß</span>
                                                <div class="wr-info"><div class="wr-name">Cambridge Auto Electrical</div><div class="wr-meta">Cambridge ¬∑ 22 km ¬∑ Logged by CalmOcean483</div></div>
                                                <span class="wr-rating">‚≠ê 4.4</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="where-other" id="where-other-v3">
                                        <input class="where-other-input" placeholder="Type supplier name and location...">
                                        <label class="logit-add"><input type="checkbox"> üìç Also add this place to Log It so others can find it</label>
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Next Due (km interval)</label>
                                    <select class="svc-form-select">
                                        <option value="">No reminder</option>
                                        <option value="5000">Every 5,000 km</option>
                                        <option value="10000" selected>Every 10,000 km</option>
                                        <option value="15000">Every 15,000 km</option>
                                        <option value="20000">Every 20,000 km</option>
                                        <option value="50000">Every 50,000 km</option>
                                    </select>
                                </div>
                                <div class="svc-form-full">
                                    <div class="svc-form-group">
                                        <label class="svc-form-label">Notes</label>
                                        <input class="svc-form-input" placeholder="e.g. Used Castrol GTX 10W-30...">
                                    </div>
                                </div>
                            </div>
                            <div style="display:flex;gap:8px;margin-top:12px;">
                                <button class="btn btn-primary btn-sm" onclick="showToast('Service logged!','success'); toggleServiceForm('svc-form-v3');">‚úì Log Service</button>
                                <button class="btn btn-secondary btn-sm" onclick="toggleServiceForm('svc-form-v3')">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <div class="sub-section">
                        <div class="sub-section-label">üì∑ Photos <span style="font-weight:400;font-size:11px;text-transform:none;letter-spacing:0;">(up to 3)</span></div>
                        <div class="photo-grid">
                            <div class="photo-slot has-photo" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üöê</span>
                                <span class="ps-label">Transport</span>
                                <span class="ps-status">‚úì Uploaded</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üì∏</span>
                                <span class="ps-label">Additional</span>
                                <span class="ps-hint">Optional</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üî¢</span>
                                <span class="ps-label">VIN / Serial</span>
                                <span class="ps-hint">Tap to upload</span>
                            </div>
                        </div>
                        <div style="font-size:10px;color:var(--text-muted);margin-top:6px;">Transport photo helps others identify you during roadside help ¬∑ VIN/Serial photo aids recovery if stolen</div>
                    </div>

                    <div class="detail-actions">
                        <button class="btn btn-secondary btn-sm" onclick="showToast('Changes saved!','success'); this.closest('.vehicle-card').classList.remove('open')">üíæ Save Changes</button>
                        <button class="btn btn-danger btn-sm" onclick="confirm('Delete Toyota HiAce?') && deleteVehicle('v3')">üóëÔ∏è Delete</button>
                    </div>
                </div>
            </div>

            <!-- VEHICLE 4: Boat -->
            <div class="vehicle-card" id="v4">
                <div class="vehicle-summary" onclick="toggleVehicle('v4')">
                    <div class="vehicle-photo">‚õµ</div>
                    <div class="vehicle-main">
                        <div class="vehicle-name">
                            Beneteau Oceanis 38.1
                        </div>
                        <div class="vehicle-badges">
                            <span class="badge badge-active">‚úì Active</span>
                            <span class="badge badge-cat">‚õµ Boat</span>
                            <span class="badge" style="background:var(--orange-pale);color:#92400e;">‚ö†Ô∏è EPIRB 14 days</span>
                        </div>
                    </div>
                    <div class="vehicle-arrow">‚ñ∂</div>
                </div>
                <div class="vehicle-detail">

                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Category</div>
                            <div class="detail-value">‚õµ Boat / Yacht</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Make</div>
                            <div class="detail-value">Beneteau</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Model</div>
                            <div class="detail-value">Oceanis 38.1</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Variant</div>
                            <div class="detail-value">Cruiser</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Year</div>
                            <div class="detail-value">2019</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Nickname</div>
                            <div class="detail-value" style="font-style:italic;">"Windchaser"</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Maritime Registration</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:2px;font-weight:700;">NZ 4821</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Hull ID (HIN)</div>
                            <div class="detail-value" style="font-family:monospace;letter-spacing:1px;">FR-BEN38192K819</div>
                        </div>
                    </div>

                    <!-- Compliance (maritime) -->
                    <div class="compliance-grid">
                        <div class="compliance-card valid">
                            <div class="cc-header">
                                <span class="cc-type">üõ°Ô∏è Maritime Registration</span>
                                <span class="cc-badge valid">‚úì Valid</span>
                            </div>
                            <div class="cc-expiry">Expires: 30 Sep 2026</div>
                            <div class="cc-remind">üîî Reminders at 30, 14, 7 days before</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-09-30">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Date updated','success')">Update</button>
                            </div>
                        </div>
                        <div class="compliance-card valid">
                            <div class="cc-header">
                                <span class="cc-type">üîç Safety Equipment Survey</span>
                                <span class="cc-badge valid">‚úì Valid</span>
                            </div>
                            <div class="cc-expiry">Expires: 15 Jul 2026</div>
                            <div class="cc-remind">üîî Reminders at 30, 14, 7 days before</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-07-15">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Date updated','success')">Update</button>
                            </div>
                        </div>
                        <div class="compliance-card expiring">
                            <div class="cc-header">
                                <span class="cc-type">üì° EPIRB Certification</span>
                                <span class="cc-badge expiring">‚ö†Ô∏è Expiring Soon</span>
                            </div>
                            <div class="cc-expiry">Expires: 26 Feb 2026</div>
                            <div class="cc-remind">üîî 14 days remaining ‚Äî renewal reminder sent</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-02-26">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Date updated','success')">Update</button>
                            </div>
                        </div>
                        <div class="compliance-card valid">
                            <div class="cc-header">
                                <span class="cc-type">üßØ Fire Extinguisher Cert</span>
                                <span class="cc-badge valid">‚úì Valid</span>
                            </div>
                            <div class="cc-expiry">Expires: 1 Dec 2026</div>
                            <div class="cc-remind">üîî Reminders at 30, 14, 7 days before</div>
                            <div class="cc-edit">
                                <input class="cc-date-input" type="date" value="2026-12-01">
                                <button class="btn btn-sm btn-secondary" onclick="showToast('Date updated','success')">Update</button>
                            </div>
                        </div>
                    </div>

                    <div class="detail-grid" style="margin-top:12px;">
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚≠ê Primary Transport</div>
                                <div class="toggle-hint">Shown first on your profile</div>
                            </div>
                            <label class="toggle"><input type="checkbox"><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row">
                            <div class="toggle-left">
                                <div class="toggle-label">‚úì Currently Active</div>
                                <div class="toggle-hint">Visible in Find It searches</div>
                            </div>
                            <label class="toggle"><input type="checkbox" checked><span class="toggle-track"></span></label>
                        </div>
                        <div class="toggle-row" style="grid-column:1/-1;">
                            <div class="toggle-left">
                                <div class="toggle-label">üìè Distance Units</div>
                                <div class="toggle-hint">Used for engine hours and service intervals</div>
                            </div>
                            <div class="unit-toggle">
                                <span class="unit-opt" onclick="setUnit(this,'nm')">nm</span>
                                <span class="unit-opt active" onclick="setUnit(this,'hrs')">hrs</span>
                            </div>
                        </div>
                    </div>

                    <!-- Items Carried (maritime tags) -->
                    <div class="sub-section">
                        <div class="sub-section-label">üéí Items Carried</div>
                        <div style="font-size:11px;color:var(--text-muted);margin:-4px 0 8px;">Searchable tags help others find you ¬∑ Custom items for specific parts</div>
                        <div class="cap-grid">
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü¶∫ Life jackets</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üî• Flares</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üì° EPIRB</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üìª VHF radio</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">‚öì Sea anchor</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üßØ Fire extinguisher</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üîß Engine tools</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">ü©π First aid kit</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üõü Liferaft</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üß≠ Handheld GPS</span>
                            <span class="cap-tag" onclick="this.classList.toggle('active')">üì° Satellite comms</span>
                            <span class="cap-tag active" onclick="this.classList.toggle('active')">üí° Navigation lights (spare)</span>
                        </div>
                        <div style="margin-top:12px;border-top:1px solid var(--border);padding-top:12px;">
                            <div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:var(--text-muted);margin-bottom:6px;">Custom Items</div>
                            <div class="parts-list" id="parts-v4">
                                <div class="part-item">
                                    <span class="part-name">‚öì Spare anchor chain (10m)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üîå Impeller (Yanmar 3YM20)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                                <div class="part-item">
                                    <span class="part-name">üõû Fuel filter (Racor R12T)</span>
                                    <button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Item removed','error')">‚úï</button>
                                </div>
                            </div>
                            <div class="add-part-row">
                                <input class="add-part-input" placeholder="Add custom item..." id="part-input-v4" onkeydown="if(event.key==='Enter') addPart('v4')">
                                <button class="btn btn-secondary btn-sm" onclick="addPart('v4')">+ Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Engine Hours (instead of odometer) -->
                    <div class="odo-bar">
                        <div class="odo-icon">‚è±Ô∏è</div>
                        <div class="odo-info">
                            <div class="odo-reading">1,247 hrs</div>
                            <div class="odo-label">Last updated: 8 Feb 2026 (manual entry)</div>
                        </div>
                        <div class="odo-update">
                            <input class="odo-input" type="number" placeholder="1,260" id="odo-v4">
                            <button class="btn btn-sm btn-secondary" onclick="updateOdo('v4')">Update</button>
                        </div>
                    </div>

                    <!-- Service Log (maritime) -->
                    <div class="sub-section">
                        <div class="sub-section-label" style="display:flex;align-items:center;justify-content:space-between;">
                            <span>üîß Service Log</span>
                            <button class="btn btn-sm btn-secondary" onclick="toggleServiceForm('svc-form-v4')" style="font-size:11px;">+ Add Service</button>
                        </div>

                        <table class="service-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Service</th>
                                    <th>Engine Hrs</th>
                                    <th>Where</th>
                                    <th>Cost</th>
                                    <th>Next Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1 Feb 2026</td>
                                    <td><span class="svc-type">üõ¢Ô∏è Engine Oil & Filter</span></td>
                                    <td>1,230 hrs</td>
                                    <td><a class="svc-where" href="logit.html">Self (DIY)</a></td>
                                    <td><span class="svc-cost">NZD 145</span></td>
                                    <td><span class="svc-due ok">‚úì ~1,430 hrs (183 hrs)</span></td>
                                </tr>
                                <tr>
                                    <td>15 Nov 2025</td>
                                    <td><span class="svc-type">üé® Antifoul</span></td>
                                    <td>‚Äî</td>
                                    <td><a class="svc-where" href="logit.html">Westhaven Marina, Auckland ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 2,800</span></td>
                                    <td><span class="svc-due ok">‚úì ~Nov 2026 (annual)</span></td>
                                </tr>
                                <tr>
                                    <td>20 Oct 2025</td>
                                    <td><span class="svc-type">üîå Impeller</span></td>
                                    <td>1,100 hrs</td>
                                    <td><a class="svc-where" href="logit.html">Island Marine, Waiheke ‚úì</a></td>
                                    <td><span class="svc-cost">NZD 320</span></td>
                                    <td><span class="svc-due ok">‚úì ~1,600 hrs (353 hrs)</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Add Service Form (maritime) -->
                        <div class="add-service-form" id="svc-form-v4">
                            <div style="font-size:13px;font-weight:700;margin-bottom:10px;">‚ûï Log New Service</div>
                            <div class="svc-form-grid">
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Service Type *</label>
                                    <select class="svc-form-select">
                                        <option value="">Select...</option>
                                        <option>üõ¢Ô∏è Engine Oil & Filter</option>
                                        <option>üîå Impeller</option>
                                        <option>üõû Fuel Filter</option>
                                        <option>üé® Antifoul</option>
                                        <option>üîç Hull Inspection</option>
                                        <option>‚öì Anchor & Chain</option>
                                        <option>üßµ Sail Repair</option>
                                        <option>ü™¢ Rigging Inspection</option>
                                        <option>üì° Electronics / Nav</option>
                                        <option>üîã Battery</option>
                                        <option>üßØ Safety Equipment</option>
                                        <option>üîß Full Service</option>
                                        <option>üìã Other</option>
                                    </select>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Date *</label>
                                    <input class="svc-form-input" type="date" value="2026-02-12">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Engine Hours</label>
                                    <input class="svc-form-input" type="number" placeholder="1,247">
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Cost</label>
                                    <div class="cost-combo">
                                        <select class="cost-currency">
                                            <option value="" disabled>Select currency...</option>
                                            <optgroup label="Oceania">
                                                <option selected>NZD</option>
                                                <option>AUD</option>
                                                <option>FJD</option>
                                                <option>PGK</option>
                                                <option>WST</option>
                                                <option>TOP</option>
                                            </optgroup>
                                            <optgroup label="Asia">
                                                <option>JPY</option>
                                                <option>CNY</option>
                                                <option>KRW</option>
                                                <option>TWD</option>
                                                <option>HKD</option>
                                                <option>SGD</option>
                                                <option>MYR</option>
                                                <option>THB</option>
                                                <option>VND</option>
                                                <option>IDR</option>
                                                <option>PHP</option>
                                                <option>INR</option>
                                                <option>LKR</option>
                                                <option>NPR</option>
                                                <option>PKR</option>
                                                <option>BDT</option>
                                                <option>KHR</option>
                                                <option>LAK</option>
                                                <option>MMK</option>
                                            </optgroup>
                                            <optgroup label="Middle East">
                                                <option>AED</option>
                                                <option>SAR</option>
                                                <option>QAR</option>
                                                <option>OMR</option>
                                                <option>BHD</option>
                                                <option>KWD</option>
                                                <option>JOD</option>
                                                <option>ILS</option>
                                                <option>TRY</option>
                                            </optgroup>
                                            <optgroup label="Europe">
                                                <option>EUR</option>
                                                <option>GBP</option>
                                                <option>CHF</option>
                                                <option>NOK</option>
                                                <option>SEK</option>
                                                <option>DKK</option>
                                                <option>ISK</option>
                                                <option>PLN</option>
                                                <option>CZK</option>
                                                <option>HUF</option>
                                                <option>RON</option>
                                                <option>BGN</option>
                                                <option>HRK</option>
                                                <option>RSD</option>
                                                <option>GEL</option>
                                                <option>UAH</option>
                                                <option>RUB</option>
                                            </optgroup>
                                            <optgroup label="Americas">
                                                <option>USD</option>
                                                <option>CAD</option>
                                                <option>MXN</option>
                                                <option>BRL</option>
                                                <option>ARS</option>
                                                <option>CLP</option>
                                                <option>COP</option>
                                                <option>PEN</option>
                                                <option>BOB</option>
                                                <option>UYU</option>
                                                <option>PYG</option>
                                                <option>CRC</option>
                                                <option>GTQ</option>
                                                <option>JMD</option>
                                            </optgroup>
                                            <optgroup label="Africa">
                                                <option>ZAR</option>
                                                <option>KES</option>
                                                <option>TZS</option>
                                                <option>UGX</option>
                                                <option>ETB</option>
                                                <option>NGN</option>
                                                <option>GHS</option>
                                                <option>MAD</option>
                                                <option>EGP</option>
                                                <option>TND</option>
                                                <option>BWP</option>
                                                <option>NAD</option>
                                                <option>MUR</option>
                                                <option>MZN</option>
                                            </optgroup>
                                        </select>
                                        <input class="cost-amount" type="number" placeholder="0.00" step="0.01">
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Where</label>
                                    <select class="svc-form-select" onchange="handleWhereChange(this, 'v4')">
                                        <option value="">Select supplier...</option>
                                        <option value="search">üîç Search Log It places...</option>
                                        <option>üîß Westhaven Marina, Auckland</option>
                                        <option>üîß Island Marine, Waiheke</option>
                                        <option>üõ†Ô∏è Self (DIY)</option>
                                        <option value="other">üìù Other...</option>
                                    </select>
                                    <div class="where-search" id="where-search-v4">
                                        <input class="where-search-input" placeholder="Search nearby marine services..." oninput="filterPlaces(this)">
                                        <div class="where-results">
                                            <div class="where-result" onclick="selectPlace(this, 'v4')">
                                                <span class="wr-icon">‚õµ</span>
                                                <div class="wr-info"><div class="wr-name">Gulf Harbour Marina</div><div class="wr-meta">Whangaparaoa ¬∑ 35 km ¬∑ 6 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.7</span>
                                            </div>
                                            <div class="where-result" onclick="selectPlace(this, 'v4')">
                                                <span class="wr-icon">üîß</span>
                                                <div class="wr-info"><div class="wr-name">Orams Marine Services</div><div class="wr-meta">Auckland ¬∑ 8 km ¬∑ 12 reviews</div></div>
                                                <span class="wr-rating">‚≠ê 4.5</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="where-other" id="where-other-v4">
                                        <input class="where-other-input" placeholder="Type supplier name and location...">
                                        <label class="logit-add"><input type="checkbox"> üìç Also add this place to Log It so others can find it</label>
                                    </div>
                                </div>
                                <div class="svc-form-group">
                                    <label class="svc-form-label">Next Due</label>
                                    <select class="svc-form-select">
                                        <option value="">No reminder</option>
                                        <optgroup label="By engine hours">
                                            <option value="100">Every 100 hrs</option>
                                            <option value="200" selected>Every 200 hrs</option>
                                            <option value="500">Every 500 hrs</option>
                                        </optgroup>
                                        <optgroup label="By time">
                                            <option value="6m">Every 6 months</option>
                                            <option value="12m">Every 12 months</option>
                                            <option value="24m">Every 24 months</option>
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="svc-form-full">
                                    <div class="svc-form-group">
                                        <label class="svc-form-label">Notes</label>
                                        <input class="svc-form-input" placeholder="e.g. Used Yanmar OEM filter, checked zinc anodes too...">
                                    </div>
                                </div>
                            </div>
                            <div style="display:flex;gap:8px;margin-top:12px;">
                                <button class="btn btn-primary btn-sm" onclick="showToast('Service logged!','success'); toggleServiceForm('svc-form-v4');">‚úì Log Service</button>
                                <button class="btn btn-secondary btn-sm" onclick="toggleServiceForm('svc-form-v4')">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <!-- Photos -->
                    <div class="sub-section">
                        <div class="sub-section-label">üì∑ Photos <span style="font-weight:400;font-size:11px;text-transform:none;letter-spacing:0;">(up to 3)</span></div>
                        <div class="photo-grid">
                            <div class="photo-slot has-photo" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">‚õµ</span>
                                <span class="ps-label">Transport</span>
                                <span class="ps-status">‚úì Uploaded</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üì∏</span>
                                <span class="ps-label">Additional</span>
                                <span class="ps-hint">Optional</span>
                            </div>
                            <div class="photo-slot" onclick="showToast('Opens camera / file picker','success')">
                                <span class="ps-icon">üî¢</span>
                                <span class="ps-label">HIN / Serial</span>
                                <span class="ps-hint">Tap to upload</span>
                            </div>
                        </div>
                        <div style="font-size:10px;color:var(--text-muted);margin-top:6px;">Transport photo helps others identify your vessel ¬∑ HIN photo aids recovery if stolen</div>
                    </div>

                    <div class="detail-actions">
                        <button class="btn btn-secondary btn-sm" onclick="showToast('Changes saved!','success'); this.closest('.vehicle-card').classList.remove('open')">üíæ Save Changes</button>
                        <button class="btn btn-danger btn-sm" onclick="confirm('Delete Beneteau Oceanis 38.1?') && deleteVehicle('v4')">üóëÔ∏è Delete</button>
                    </div>
                </div>
            </div>

            <!-- ADD FORM -->
            <div class="add-form" id="addForm">
                <h3>‚ûï Quick Add Transport</h3>
                <div style="font-size:12px;color:var(--text-muted);margin:-8px 0 16px;">Enter the basics to create your record, then we'll open it for the full details.</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Category *</label>
                        <select class="form-select">
                            <option value="">Select category...</option>
                            <option value="motorcycle">üèçÔ∏è Motorcycle</option>
                            <option value="bicycle">üö¥ Bicycle</option>
                            <option value="car">üöó Car</option>
                            <option value="4wd">üöô 4WD / SUV</option>
                            <option value="campervan">üöê Campervan / RV / Motorhome</option>
                            <option value="caravan">üè† Caravan / Trailer</option>
                            <option value="boat">‚õµ Boat / Yacht</option>
                            <option value="truck">üöõ Truck / HGV</option>
                            <option value="escooter">üõ¥ E-Scooter / E-Bike</option>
                            <option value="other">üì¶ Other (phone, camera, drone, etc.)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Make *</label>
                        <input class="form-input" placeholder="e.g. BMW, Honda, Trek, Toyota...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Model *</label>
                        <input class="form-input" placeholder="e.g. R1250GS, Africa Twin, Hilux...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Year</label>
                        <input class="form-input" type="number" placeholder="e.g. 2020" min="1950" max="2026">
                    </div>
                </div>
                <div style="margin-top:12px;padding:10px 14px;background:var(--grey-50);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:11px;color:var(--text-muted);">
                    üìã After creating, your new record opens so you can add: nickname, rego, VIN/serial, photos, compliance dates, items carried, service records, and more.
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" onclick="toggleAddForm(); showToast('‚úì Transport created ‚Äî card would open automatically for you to complete details','success');">‚úì Create & Open</button>
                    <button class="btn btn-secondary" onclick="toggleAddForm()">Cancel</button>
                </div>
            </div>

        </div>
    </div>

</main>

<div class="toast" id="toast"></div>

<!-- SETTINGS PANEL -->
<div class="settings-overlay" id="settings-overlay" onclick="closeSettings()"></div>
<aside class="settings-panel" id="settings-panel">
    <div class="settings-header"><h2>‚öôÔ∏è Settings</h2><button class="settings-close" onclick="closeSettings()">‚úï</button></div>
    <div class="settings-section"><div class="settings-section-title">Profile</div>
        <a class="settings-item" href="profile.html"><div class="si-icon green">üë§</div> My Profile <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="friends.html"><div class="si-icon blue">üë•</div> My Friends <span class="si-badge">4</span></a>
        <a class="settings-item" href="groups.html"><div class="si-icon purple">üë™</div> My Groups <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="transport.html"><div class="si-icon orange">üèçÔ∏è</div> My Transport <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="emergency.html"><div class="si-icon red">‚ù§Ô∏è</div> Emergency Contacts <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <div class="settings-section"><div class="settings-section-title">Account</div>
        <a class="settings-item" href="subscription.html"><div class="si-icon orange">‚≠ê</div> Subscription & Plan <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="password.html"><div class="si-icon grey">üîë</div> Change Password <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="twofactor.html"><div class="si-icon blue">üîí</div> Two-Factor Auth <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <div class="settings-section"><div class="settings-section-title">Availability</div>
        <a class="settings-item" href="availability.html"><div class="si-icon green">üì°</div> Availability Settings <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="helpprefs.html"><div class="si-icon blue">üéØ</div> Help Preferences <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <div class="settings-section"><div class="settings-section-title">Activity</div>
        <a class="settings-item" href="activity.html"><div class="si-icon blue">üìã</div> Activity History <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="feedback.html"><div class="si-icon orange">‚è≥</div> Pending Feedback <span class="si-badge">2</span></a>
        <a class="settings-item" href="interactions.html"><div class="si-icon grey">üìä</div> Interactions History <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <div class="settings-section"><div class="settings-section-title">Privacy & Data</div>
        <a class="settings-item" href="privacy.html"><div class="si-icon purple">üìç</div> Location Privacy <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="retention.html"><div class="si-icon grey">üóÇÔ∏è</div> Data Retention <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="download.html"><div class="si-icon blue">‚¨áÔ∏è</div> Download My Data <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="blocked.html"><div class="si-icon red">üö´</div> Blocked Users <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <div class="settings-section"><div class="settings-section-title">App</div>
        <a class="settings-item" href="#"><div class="si-icon grey">üåê</div> Language & Region <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="#"><div class="si-icon blue">‚ÑπÔ∏è</div> About Tiriwe <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="#"><div class="si-icon green">üí¨</div> Help & Support <span class="si-arrow">‚Ä∫</span></a>
        <a class="settings-item" href="#"><div class="si-icon grey">üìÑ</div> Terms & Privacy <span class="si-arrow">‚Ä∫</span></a>
    </div>
    <button class="settings-logout">üö™ Log Out</button>
</aside>

<script>
    function toggleVehicle(id) {
        document.getElementById(id).classList.toggle('open');
    }

    function updateOdo(vid) {
        const input = document.getElementById('odo-' + vid);
        const val = input.value.trim();
        if (!val) return;
        const formatted = parseInt(val).toLocaleString();
        const odoReading = input.closest('.odo-bar').querySelector('.odo-reading');
        const unit = document.getElementById(vid)?.querySelector('.unit-opt.active')?.textContent || 'km';
        odoReading.textContent = formatted + ' ' + unit;
        const odoLabel = input.closest('.odo-bar').querySelector('.odo-label');
        odoLabel.textContent = 'Last updated: just now (manual entry)';
        input.value = '';
        showToast('Odometer updated to ' + formatted + ' ' + unit, 'success');
    }

    function setUnit(el, unit) {
        const toggle = el.closest('.unit-toggle');
        toggle.querySelectorAll('.unit-opt').forEach(o => o.classList.remove('active'));
        el.classList.add('active');
        showToast('Distance units set to ' + unit, 'success');
    }

    function toggleServiceForm(id) {
        document.getElementById(id).classList.toggle('open');
    }

    function handleWhereChange(select, vid) {
        const searchDiv = document.getElementById('where-search-' + vid);
        const otherDiv = document.getElementById('where-other-' + vid);
        // Hide both first
        searchDiv.classList.remove('open');
        otherDiv.classList.remove('open');
        if (select.value === 'search') {
            searchDiv.classList.add('open');
            searchDiv.querySelector('.where-search-input').focus();
        } else if (select.value === 'other') {
            otherDiv.classList.add('open');
            otherDiv.querySelector('.where-other-input').focus();
        }
    }

    function selectPlace(el, vid) {
        // Remove previous selection
        el.closest('.where-results').querySelectorAll('.where-result').forEach(r => r.classList.remove('selected'));
        el.classList.add('selected');
        const name = el.querySelector('.wr-name').textContent;
        showToast('Selected: ' + name, 'success');
    }

    function filterPlaces(input) {
        const val = input.value.toLowerCase();
        const results = input.nextElementSibling.querySelectorAll('.where-result');
        results.forEach(r => {
            const text = r.textContent.toLowerCase();
            r.style.display = text.includes(val) ? '' : 'none';
        });
    }

    function deleteVehicle(id) {
        const el = document.getElementById(id);
        el.style.transition = 'opacity 0.3s, transform 0.3s';
        el.style.opacity = '0';
        el.style.transform = 'translateX(-20px)';
        setTimeout(() => el.remove(), 300);
        showToast('Transport deleted', 'error');
    }

    function addPart(vid) {
        const input = document.getElementById('part-input-' + vid);
        const val = input.value.trim();
        if (!val) return;
        const list = document.getElementById('parts-' + vid);
        const item = document.createElement('div');
        item.className = 'part-item';
        item.innerHTML = `<span class="part-name">üî© ${val}</span><button class="part-remove" onclick="this.closest('.part-item').remove(); showToast('Part removed','error')">‚úï</button>`;
        list.appendChild(item);
        input.value = '';
        showToast('Spare part added!', 'success');
    }

    function toggleAddForm() {
        document.getElementById('addForm').classList.toggle('open');
    }

    function showToast(msg, type) {
        const t = document.getElementById('toast');
        t.textContent = msg;
        t.className = 'toast ' + type;
        t.style.display = 'block';
        setTimeout(() => t.style.display = 'none', 3000);
    }

    function openSettings() {
        document.getElementById('settings-overlay').classList.add('open');
        document.getElementById('settings-panel').classList.add('open');
        document.body.style.overflow = 'hidden';
    }
    function closeSettings() {
        document.getElementById('settings-overlay').classList.remove('open');
        document.getElementById('settings-panel').classList.remove('open');
        document.body.style.overflow = '';
    }
</script>
</body>
</html>
